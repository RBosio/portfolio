---
import Layout from "../layouts/Layout.astro";

import Icon from "../components/Icon.astro";
import Project from "../components/Project.astro";
import Certificate from "../components/Certificate.astro";
import Button from "../components/Button.astro";
import About from "../components/About.astro";
import Footer from "../components/Footer.astro";

import { projects } from "../data/projects";
import { certificates } from "../data/certificates";
---

<Layout title="Fido - Porfolio">
  <main id="home" class="relative">
    <div class="flex justify-center items-center flex-col gap-4 pt-12">
      <h1 class="text-6xl font-semibold flex items-center gap-4">
        <div>
          Hey! Soy <span class="text-yellow-400">Fido</span>
        </div>
        <img
          src="/images/batman.png"
          alt="batman"
          class="object-cover w-16 h-30"
        />
      </h1>
      <div id="sub">
        <p class="text-center text-xl">
          <strong class="text-yellow-300 font-semibold"
            >Ingeniero en sistemas</strong
          > especializado en el desarrollo web fullstack. +4 años de experiencia
          realizando proyectos de software de calidad con diferentes tecnologías.
        </p>
        <div class="flex justify-center my-2"></div>
      </div>
      <section
        id="badge"
        class="columns-2 md:flex md:justify-center md:items-center gap-4 mt-4"
      >
        <div class="flex flex-col md:flex-row gap-4">
          <Button
            name="Descargar cv"
            svg="/icons/cv.svg"
            url="https://fidoo.netlify.app/cv.pdf"
          />
          <Button
            name="Linkedin"
            svg="/icons/linkedin.svg"
            url="https://www.linkedin.com/in/rbosio7"
          />
        </div>
        <div class="flex flex-col md:flex-row gap-4">
          <Button
            name="Github"
            svg="/icons/github.svg"
            url="https://www.github.com/RBosio"
          />
          <Button
            name="npm"
            svg="/icons/npm.svg"
            url="https://www.npmjs.com/~fiido"
          />
        </div>
      </section>
    </div>
    <div id="skills" class="w-2/3 mx-auto overflow-hidden">
      <section
        id="icons"
        class="flex items-center justify-center mx-auto mt-16 mb-12 gap-4 -translate-x-[320px]"
      >
        <Icon name="Docker" svg="/icons/docker.svg" />
        <Icon name="Linux" svg="/icons/linux.svg" />
        <Icon name="Swagger" svg="/icons/swagger.svg" />
        <Icon name="Jest" svg="/icons/jest.svg" />
        <Icon name="JWT" svg="/icons/jwt.svg" />
        <Icon name="GraphQL" svg="/icons/graphql.svg" />
        <Icon name="PostgreSQL" svg="/icons/postgresql.svg" />
        <Icon name="MySQL" svg="/icons/mysql.svg" />
        <Icon name="TypeORM" svg="/icons/typeorm.svg" />
        <Icon name="NestJS" svg="/icons/nestjs.svg" />
        <Icon name="Express" svg="/icons/express.svg" />
        <Icon name="NodeJS" svg="/icons/nodejs.svg" />
        <Icon name="NextJS" svg="/icons/nextjs.svg" />
        <Icon name="React" svg="/icons/react.svg" />
        <Icon name="Angular" svg="/icons/angular.svg" />
        <Icon name="Typescript" svg="/icons/typescript.svg" />
        <Icon name="JavaScript" svg="/icons/js.svg" />
        <Icon name="Tailwind" svg="/icons/tailwind.svg" />
        <Icon name="CSS" svg="/icons/css.svg" />
        <Icon name="HTML" svg="/icons/html.svg" />

        <Icon name="Docker" svg="/icons/docker.svg" />
        <Icon name="Linux" svg="/icons/linux.svg" />
        <Icon name="Swagger" svg="/icons/swagger.svg" />
        <Icon name="Jest" svg="/icons/jest.svg" />
        <Icon name="JWT" svg="/icons/jwt.svg" />
        <Icon name="GraphQL" svg="/icons/graphql.svg" />
        <Icon name="PostgreSQL" svg="/icons/postgresql.svg" />
        <Icon name="MySQL" svg="/icons/mysql.svg" />
        <Icon name="TypeORM" svg="/icons/typeorm.svg" />
        <Icon name="NestJS" svg="/icons/nestjs.svg" />
        <Icon name="Express" svg="/icons/express.svg" />
        <Icon name="NodeJS" svg="/icons/nodejs.svg" />
        <Icon name="NextJS" svg="/icons/nextjs.svg" />
        <Icon name="React" svg="/icons/react.svg" />
        <Icon name="Angular" svg="/icons/angular.svg" />
        <Icon name="Typescript" svg="/icons/typescript.svg" />
        <Icon name="JavaScript" svg="/icons/js.svg" />
        <Icon name="Tailwind" svg="/icons/tailwind.svg" />
        <Icon name="CSS" svg="/icons/css.svg" />
        <Icon name="HTML" svg="/icons/html.svg" />
      </section>
    </div>
    <section class="w-[90%] md:w-2/3 mx-auto flex flex-col">
      <article id="projects" class="mx-auto">
        <h2 class="flex items-center gap-2 text-2xl mb-4 pt-12 md:pt-20">
          <img src="/icons/code.svg" alt="code" class="size-6" /> Proyectos
        </h2>
        <div class="flex flex-col mx-auto gap-12">
          {
            projects.map((project) => (
              <Project
                title={project.title}
                subtitle={project.subtitle}
                description={project.description}
                images={project.images}
                tech={project.tech}
                url={project.url}
              />
            ))
          }
        </div>
      </article>
      <article id="certifications">
        <h2 class="flex items-center gap-2 text-2xl mb-4 pt-12 md:pt-24">
          <img src="/icons/certificate.svg" alt="certificate" class="size-6" /> Certificaciones
        </h2>
        <div class="overflow-hidden relative">
          <img
            id="left"
            src="/icons/left.svg"
            alt="left"
            class="size-14 absolute top-[calc(50%-30px)] left-0 z-20 p-1 hover:cursor-pointer hover:opacity-70"
          />
          <img
            id="right"
            src="/icons/right.svg"
            alt="right"
            class="size-14 absolute top-[calc(50%-30px)] right-0 z-20 p-1 hover:cursor-pointer hover:opacity-70"
          />
          <div
            id="carouselCerts"
            class="w-full flex transition ease-out duration-[.8s]"
          >
            {
              certificates.map((cert: any) => (
                <Certificate
                  title={cert.title}
                  description={cert.description}
                  image={cert.image}
                  url={cert.url}
                />
              ))
            }
          </div>
        </div>
      </article>
      <article id="about" class="mx-auto">
        <h2 class="flex items-center gap-2 text-2xl mb-4 pt-12 md:pt-24">
          <img src="/icons/atom.svg" alt="atom" class="size-6" /> Sobre mí
        </h2>
        <About />
      </article>
    </section>
  </main>
  <Footer />
  <img
    src="/images/logo.svg"
    alt="bat"
    class={`bats size-60 absolute top-0 left-20 rotate-12 -z-10`}
  />
</Layout>

<style>
  main {
    margin: auto;
    padding: 1rem;
    width: 1000px;
    max-width: calc(100% - 2rem);
    color: white;
    font-size: 20px;
    line-height: 1.6;
  }

  #icons:hover {
    animation-play-state: paused;
  }

  @keyframes title {
    from {
      opacity: 0;
      transform: translateY(50px);
    }

    to {
      opacity: 1;
      transform: translateY(0px);
    }
  }

  @keyframes icons-sm {
    to {
      transform: translateX(calc(48px * 20));
    }
  }

  @keyframes icons {
    to {
      transform: translateX(calc(48px * 20));
    }
  }
  @media (min-width: 0) {
    #icons {
      animation: icons-sm 20s linear infinite;
    }
  }

  @media (min-width: 80em) {
    #icons {
      animation: icons 20s linear infinite;
    }
  }

  h1 {
    animation: title 1s ease-out both;
  }

  #sub {
    animation: title 1s ease-out 1s both;
  }

  #badge {
    animation: title 1s ease-out 2s both;
  }
</style>

<script>
  const left = document.getElementById("left");
  const carouselCerts = document.getElementById("carouselCerts");

  import { certificates } from "../data/certificates";
  const right = document.getElementById("right");
  let count = 0;

  left?.addEventListener("click", () => {
    if (count > 0 && carouselCerts) {
      carouselCerts.style.transform = `translateX(${(count - 1) * -100}%)`;
      count--;
    }
  });

  right?.addEventListener("click", () => {
    if (count < certificates.length - 1 && carouselCerts) {
      carouselCerts.style.transform = `translateX(${(count + 1) * -100}%)`;
      count++;
    }
  });
</script>
